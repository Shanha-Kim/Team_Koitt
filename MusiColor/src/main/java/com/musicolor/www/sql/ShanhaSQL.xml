<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
			PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="sSQL">
	<select id="SearchBefore"  resultType="bVO">
	<![CDATA[    
		SELECT
			b_no, b_mno, b_like, b_emotion, b_date
		FROM
			board
		WHERE
			b_emotion = #{b_emotion}
	]]>
	</select>
	
	<select id="SearchAfter"  resultType="bVO">
	<![CDATA[ 
		SELECT
			b_no, b_mno, b_like, b_emotion, b_date
		FROM
			(
				SELECT 
					a.*, ROWNUM rno, count(*)over() total
				FROM 
					(
						SELECT * FROM board ORDER BY b_no desc					
					) a
			)
		WHERE
			rno > 0 AND rno <= 15
	]]>
	</select>
</mapper>


